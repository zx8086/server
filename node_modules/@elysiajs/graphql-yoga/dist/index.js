import { createYoga, createSchema } from 'graphql-yoga';
export const yoga = ({ path = '/graphql', typeDefs, resolvers, resolverValidationOptions, inheritResolversFromInterfaces, updateResolversInPlace, schemaExtensions, ...config }) => (app) => {
    const yoga = createYoga({
        cors: false,
        ...config,
        schema: createSchema({
            typeDefs,
            resolvers: resolvers,
            resolverValidationOptions,
            inheritResolversFromInterfaces,
            updateResolversInPlace,
            schemaExtensions
        })
    });
    const result = app
        .get(path, async ({ request }) => yoga.fetch(request))
        .post(path, async ({ request }) => yoga.fetch(request), {
        type: 'none'
    });
    return result;
};
export default yoga;
