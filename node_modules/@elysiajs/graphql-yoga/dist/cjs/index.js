"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.yoga = void 0;
const graphql_yoga_1 = require("graphql-yoga");
const yoga = ({ path = '/graphql', typeDefs, resolvers, resolverValidationOptions, inheritResolversFromInterfaces, updateResolversInPlace, schemaExtensions, ...config }) => (app) => {
    const yoga = (0, graphql_yoga_1.createYoga)({
        cors: false,
        ...config,
        schema: (0, graphql_yoga_1.createSchema)({
            typeDefs,
            resolvers: resolvers,
            resolverValidationOptions,
            inheritResolversFromInterfaces,
            updateResolversInPlace,
            schemaExtensions
        })
    });
    const result = app
        .get(path, async ({ request }) => yoga.fetch(request))
        .post(path, async ({ request }) => yoga.fetch(request), {
        type: 'none'
    });
    return result;
};
exports.yoga = yoga;
exports.default = exports.yoga;
